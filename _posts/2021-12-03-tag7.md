---
title: "Vorlesung 7: THEMA"
date: 2021-12-03
---

Vorlesung 7

# Metadaten modellieren und Schnittstellen nutzen (2/2)
Nachdem wir am Donnerstagabend bereits über Metadatenmodellierung und Schnittstellen gesprochen hatten, wurde das Thema am Freitagnachmittag weiter behandelt. Der Schwerpunkt lag dieses Mal auf der Transformation von Metadaten mittels OpenRefine. Am Vorabend hatten wir mit MARCedit Crosswalks behandelt.

## Inhalt der Vorlesung
### Einführung in OpenRefine
OpenRefine ist ein freies open source Tool für die Bereinigung von schmutzigen Daten. Es wird häufig in Bibliotheken und Archiven eingesetzt. Zwar denkt man, dass Bibliotheken aufgrund der Standards und Regelwerke wohl eher kaum schmutzige Daten haben, doch aufgrund der komplexen Formate kann es trotzdem zu Fehlern und Unreinheiten kommen. OpenRefine wird somit zur Analyse, Bereinigung, Konvertierung und Anreicherung von Daten verwendet. Gerade die Anreicherung ist eine Spezialfunktion, die andere Software teilweise nicht leisten können. So können z.B. eigene Daten mit externen Daten (z.B. für Personendaten aus der GND oder Wikidata) kombiniert werden. Die graphische Oberfläche sieht sehr ähnlich zu Excel aus. Installiert wird die Software auf dem Computer und wird dann im Browser bedient. Durch die lokale Installation besteht daher auch kein Problem mit dem Datenschutz. Dieses würde erst bei der Verwendung von externen Schnittstellen auftreten. [^1]

Eine Umfrage von OpenRefine hat ergeben, dass die Software am häufigsten für die Normalisierung von Daten eingesetzt wird (also z.B. für die Korrektur von Tippfehlern). Aber auch das Transformieren in ein anderes Datenformat oder die Vorbereitung für die Datenübergabe in ein anderes System werden häufig genannt. Aber auch für das Verstehen von Daten, die man selbst nicht besitzt oder für den Abgleich mit anderen Datenquellen. Dabei wir die Software vom Bibliotheks-Personal am meisten genutzt.[^2]
![Einsatzbereiche von OpenRefine](https://github.com/cynkoh/BAIN21_ck/blob/master/images/07_Einsatz%20OpenRefine.png?raw=true)
<i>Umfrage von OpenRefine, n =178</i>
*image_caption*

### OpenRefine in der Praxis
Nach einer kurzen Einführung haben wir OpenRefine 3.5.0 auf unserer Linux-Umgebung auf der VDI der FHGR installiert. Mit ‘cd ~/openrefine-3.5.0’ und anschliessend ‘./refine’ wird die Datei gestartet, sodass wir die Software anschliessend über <http://localhost:3333> öffnen konnten.

In einem ersten Schritt haben wir nach der Installation Beispieldaten in ein neues Projekt geladen.
![Beispieldaten in OpenRefine](../images/07_OpenRefine01.png)

Anschliessend lernten wir die Basisfunktionen kennen. Mithilfe Textfacetten können, ähnlich wie in einer Suchmaschine, Werte angeklickt werden (wie bei einem Filter). Im Beispieldatensatz war die Sprache Englisch sowohl als Abkürzung **EN** als auch ausgeschrieben **English** erfasst. In einer Massenverarbeitung wurde der Sprachcode vereinheitlicht.
![Language-Facette vor Anpassung](../images/07_OpenRefine02.png)
<i>Links: vor Anpassung, rechts: nach Anpassung</i>

Die Funktion der Massenverarbeitung kenne ich bereits aus unserem Bibliothekssystem WinMedio. Dort mache ich regelmässig Abfragen, setze Filter und verarbeite anschliessend einzelne Werte. So werden z.B. bei jedem Benutzer die Korrespondenzart erfasst. Intern haben wir die Regelung, dass bei vorhandener Mailadresse die Erinnerung, Abholungseinladung und die 1. Mahnung per Mail verschickt wird. Nun kommt es aber regelmässig vor, dass die Mailadresse im Nachhinein erfasst wird, die Korrespondenzeinstellung aber nicht mitangepasst wird. Durch eine Abfrage im System kann ich dann anschliessend eine Massenverarbeitung machen und die Korrespondenzart entsprechend ändern, dies geschieht ganz einfach und nur mit wenigen Klicks.

Es ist aber auch möglich, Zellen aufzutrennen und diese zu Editieren. Mithilfe von Algorithmen werden Verbesserungsvorschläge generiert.
![Verbesserungsvorschläge](../images/07_OpenRefine03.png)
<i>Mithilfe der Cluster und Edit-Funktion werden Verbesserungsvorschläge generiert</i>

Es wurden auch noch Daten mit anderen Daten zusammengeführt. In unserem Beispiel ordneten wir ein Journal anhand der ISSN Wikidata zu. Als Abschluss haben wir ein CSV nach MARCML übertragen. Dort lernten wir die Template-Sprache GREL (General Refine Expression Language) kennen. [^3] So wie ich es verstanden habe, kann mit GREL eine Abbildung dargestellt werden, wo definiert bzw. angezeigt wird, wo welche Spalte im Export angezeigt wird. Dies ermöglicht die individuelle Anpassung der Darstellung. 
So haben wir dem bestehenden Template noch die Rubrik «Subjects» hinzugefügt:
‘{{forEach(cells['Subjects'].value.split("|"), v,
'<datafield tag="650" ind1="0" ind2="4">
    <subfield code="a">' + v.escape('xml') + '</subfield>
</datafield>' + '\n').join('')}}’

Da dieser Prozess sehr Fehleranfällig ist, lässt sich das Ergebnis mit xmllint validieren. Das Ergebnis haben wir dann als XML-Datei heruntergeladen. Anders als am Vorabend, wo wir mit dem XSLT Crosswalk Metadatenstandarts «umgewandelt» haben, haben wir heute also Datenformate konvertiert. 

###Abschluss
Das habe ich gelernt
- die Software OpenREfine kennengelernt
- Basisfunktionen angewendet 
Das habe ich noch nicht ganz verstanden bzw. hätte ich gerne vertiefter behandelt
- GREL und ich scheinen noch nicht so gute Freunde zu sein. Hatte Mühe diesen Teil der Vorlesung zu verstehen.
Total Zeichen: 

###Quellen
[^1]: <https://openrefine.org/documentation.html> , zuletzt abgerufen am 16.12.21
[^2]: < https://bain.felixlohmeier.de/#/05_metadaten-modellieren-und-schnittstellen-nutzen?id=transformation-von-metadaten-mit-openrefine> , zuletzt abgerufen am 16.12.21
[^3]: <https://docs.openrefine.org/manual/grel> , zuletzt abgerufen am 16.12.21

